Scrum敏捷开发方法与需求获取和测试并行
UML在需求正向传递与反串讲验证需求的使用

摘要：

​		本文主要讨论xxx是xxx（主题）。本文结合作者的参与的“重庆市主城区一体化综合管理系统”为例，讨论XXX（论文主题），包括XXX(技术、方法、工具和措施)。该项目是市政府于主城区进行试点的智能城市管理系统，需要对主城区进行网格化和三维可视化展示。系统包括社会治理、城市管理、交通管理、应急管理、数据采集展示等子系统。在此项目中，我作为PL兼系统分析师的角色，主要负责系统的需求获取，系统的分析设计与管理。其中大屏系统使用JeecgBoot做开发平台，使用SringBoot集成redis、mysql、rabbitmq、elasearch、echarts等前后端分离和springcloud微服务等技术手段。系统一期工程如期交付迭代，到目前运行稳定，并获得市政府高度好评且已承接并完成项目二期合同。

因2020年春新冠疫情爆发，政府在对人员的流动管理和对突发重大卫生事件的把控方面受到了严峻的考验。尽管该市行动果断，可依旧感觉到一丝捉襟见肘。为遵守《中华人民共和国传染病防治法》及《关于进一步加强重庆主城九区新型冠状病毒感染的肺炎疫情防控工作的紧急通知》相关要求，市政府决定加大力度完善智能化城市监控管理系统。整个项目包含软硬件设施等，政府共出资839万元。2020年7月，公司中标“重庆市主城区一体化综合管理系统”项目一期工程。该项目以交通监控信息建设为主体，包括对社会治理、城市管理、交通管理和应急管理等数据进行综合展示与集中调度，以及实现与已有系统:智慧缙云、综治网格双中心区级系统的有效对接。
我作为项目PL，需要与政府进行对接。项目涉及多个政府相关部门和不同的领域，业务场景复杂且数据获取和历史资料获取上受到许多安全条约限制，整个需求获取阶段经历了反复的迭代与走访会谈。需求获取过程基本涵盖了各种主要的需求获取技术，需求分析采用面向对象分析法结合UML进行需求的分解与传递。开发初始阶段涉及快速原型法，但系统开发主要使用的业内较为成熟的敏捷开发Scrum，使已有需求基线的基础模块的开发和其他子模块的需求获取同时进行。
UML工具Microsoft Visio设计出系统基本图，UML反串讲，流程图和我是DFD图，SE负责0层和类图、
需求获取——设计——评审——需求基线——串讲——反串讲——开发——测试——现网版本

CCB变更

每个子系统对应：SE接口1-MDE模块设计师（开发工作2）——FO(特性责任人/普通开发3)x3+4=20


1、PIESCE非功能需求做得过多，是为了满足用户期望需求，如果因一期口碑提升并续约二期则可以算作是无形收益，但若二期没有续约，则算作沉没成本，所以单站在这个一期系统建设之下是不可取的。好在凭借对此讲解与说明，公司成功中标二期工程。且在二期工程时，因更多老系统的继承，以及数据的合并，证实在一期设计时考虑到性能和容量需求，并实现部分性能需求是非常明智的选择。
2、严格遵守Scrum和流程可以立马定位错误和追责。例如se是否接口文档和需求串讲的会议纪要中是否完善，MDE设计模块文档是否与原始需求有偏差、是否编码时检视代码，测试是否先行与开发前做好测试用例书写，开发是否有自测用例表、是否做好了自验证，是否完成单元测试等。
但敏捷方法实际是为了给开发人员减负，但实际中，在这种可溯源、追责，快速迭代的行情下，开发人员往往不得不时常加班，苦不堪言。在流程上规范或者减少他人验证，把更多的任务给功能完成前的测试做，在流程上做了调整，且减少了代码缺陷率和绩效的关联，以奖励和（解决-制造）问题个数为主，减轻人员负担和压力。是否行业对敏捷开发的理解有本末倒置的嫌疑，是否为了业务而牺牲以人为本和40h原则，因此制作高效且良好的工作环境对于系统分析师对时间的把控仍旧任重道远。


结合上述分析，我们最终决定采用快速原型法与面向对象法组合应用的开发方案。该方案把软件生命周期分为4个阶段：需求阶段、构建阶段、迭代阶段和验收阶段；本文着重从前3个阶段来展开论述。

1、需求阶段

需求阶段的目标是完成系统的规划与分析。由于该系统涉及部门众多，用户需求很难一次性收集完整，加之**业务人员对财税库行横向联网具体能完成哪些功能不是很明确。我采用用户访谈、问卷调查等方式取得了用户的基本需求，在此基础上利用UML工具Powerdesigner设计出系统基本用例图，明确系统大概范围，勾勒出大致系统边界。系统整体架构我们决定采用三层C/S、B/S混合方式，因为系统存在“内外有别”的制约，采用单一的架构不能满足系统需求。“内外有别”是指系统与外单位（如银行）数据库不能相互访问，需要通过应用服务器（本系统又称为前置机）来完成纳税人基本信息向银行传递与接收银行返回的纳税人缴纳信息，提高系统安全性和性能；对地税内部，通过浏览器完成纳税人批量代扣税款登记管理、对账以及统计分析等业务。

2、构建阶段

构建阶段的目标是构造初始原型。在基本调查的基础上，尽量完整的分析现该系统包含的对象、对象的属性及对象的关联，产生一个初始对象模型，再由对象产生系统数据结构的初始框架，对对象活动、驱动这些活动的事件以及对象在这些事件驱动下的前后状态变化进行分析，进而产生系统的用户界面，得到系统的一个最初始的原型，这个原型只是一个系统框架，很多操作只是空动作，目的是向用户说明系统的功能和操作方法，以后随着开发进程以及需求明确再逐步求精。如与银行通讯服务功能只有收发数据包等基本功能，安全性及性能暂时不考虑。整个构建过程，让用户也参与到我的设计中来，因此**部门成立了一个业务专家小组，里面有业务处室领导、信息技术人员以及来自一线的**人员与操作人员。他们为我构建这个模型提供了工作流程方面、业务领域方面不可或缺的经验，也为以后模型通过评审提供了有力支持。

3、迭代阶段

迭代阶段的目标是通过反复循环最终建造出系统。在每一次迭代过程中，通过和**专家组交流，在完善需求的基础上，完善对象模型。同时，在完善需求交互的基础上进一步明确用户界面间关系，通过交互完成功能模型，并验证它的正确性。每一次迭代开发都是一个小项目，对要求的用例进行分析、设计、编码、测试和集成。完成一次迭代后向用户演示，并完成系统测试表明所要求的用例可以移到下一次迭代中去开发。每一次迭代过程都利用面向对象的技术来实现，而且都必须是增量式的：增加功能，修改缺陷，这一阶段中，面向对象技术的易维护和扩充、便于复用的优点得到充分体现。在迭代过程中，**专家组向我们提出一个需求“在较短时间内完成纳税人税款申报缴纳，不能让纳税人等待”，但无法明确“较短时间”是多少合适。为完成这一需求，通过现场观摩、问卷调查的方式，明确了这个时间应该在2分钟内，并反复修改原型，完成了这一迭代需求。

通过快速原型法与面向对象方法的成功运用，使系统在较短时间内交付使用。迭代过程中**专家组积极参与，间接减少了系统测试与上线培训时间。经过10个月的设计开发，最终项目于**年**月顺利上线，交付给用户一个高质量、高可靠性、高易用性的系统，用户也给予我们较高的评价。但开发过程中也不是一帆风顺、尽善尽美。原型开发我们团队使用了RAD开发工具，有些开发人员为了节约时间，同时也要有较好的用户体验，使用了一些未经验证的第三方免费控件，这些控件在开发时没有问题，也确实起到了美化界面的作用，但在测试时发现部分控件有漏洞，我们不得不在迭代过程中更换控件，导致工期有轻度延误。在这方面，我们制定了团队内部开发规范，指定相关开发人员只能使用公司内部控件，从而有效避免这个问题。

实践证明，面向对象开发与原型开发组合应用是按期完成任务的一种成功开发方法，今后需要研究的是如何设计和建立一个使用这种方法开发平台，使用开发过程自动化、规律化；同时研究原型迭代与满足用户需求之间平衡问题。










微软的Visio

比如用户文档的编写、数据库设计，我们都需要做到有延续性，有自动化支持和具有质量上的保证。







重庆市北碚区公共资源综合交易中心



摘要：



​	在2020年7月，我有幸作为项目负责人之一参与了公司中标的（重庆市主城区一体化综合管理系统）的项目开发。该系统是本市政府于主城区之一进行试点的智能城市管理的系统，需要对主城区的城市三维可视化，城市网格化，其中包括社会治理、城市管理、交通管理、应急管理、数据采集展示等功能模块。在本文中，我首先对整个项目进行概要的介绍。然后描述了对（系统开发）知识和相关方法的理解，接着论述了（。。。。。）在此项目中的具体应用。（具体阶段概述）其中使用jeecgBoot做开发平台，使用SringBoot集成Mybatis、redis、mysql分库、前后端分离等技术。最后取得令使双方都满意的结果，系统目前运行稳定。在此项目中，我作为参与了整个项目开发过程，主要负责需求开发与管理的工作。

​	

​	2020年春新冠疫情爆发，政府在对人员的流动管理和对突发重大卫生事件的把控方面受到了严峻的考验。尽管本市行动果断，可依旧感觉到一丝捉襟见肘。为遵守《中华人民共和国传染病防治法》及《关于进一步加强重庆主城九区新型冠状病毒感染的肺炎疫情防控工作的紧急通知》相关要求，市政府决定加大力度完善智能化城市监控管理系统。

​	2020年7月，我所在的公司承担了该系统的开发工作，我作为该项目的技术负责人，参与了整个开发过程，主要负责的是该项目的（）。由于我公司主要从事国际电子商务与以云计算为主体的TMT信息服务项目，在智慧云商圈(Smart CBD)的建设方面更有着多年的经验。因此，在此次与该区政府的再度合作，使前期的交涉工作也非常得心应手，整个项目该政府软硬件共出资839万元。该系统以交通设施信息建设为主体，包括对社会治理、城市管理、交通管理和应急管理等数据进行综合展示与集中调度，以及实现与智慧缙云、综治网格双中心等区级系统的有效对接。为完成以上多个业务需求，（xxxxxx）就显得至关重要。		





​	*最后，在交付阶段，在完成所有功能和测试后，移交用户使用。我们在所有业务功能开发完成后，内部进行了充分的单元测试，系统测试和集成测试。清理完系统的测试数据，并对收集到的真实数据进行了初步填充。开通相关权限，同时对政府监控技术人员进行了几轮相关培训，然后测试运行了一段时间。得到对方许多正面的反馈。对在其他信息系统接口集成方面出现的相关程序问题，我们也及时做了修正和完善，并及时发布更新新的系统版本。通过一段时间的使用和反馈问题更正，得到政府工作人员的充分肯定。并在验收通过后，表示愿意持续投资我们研发适用整合更多系统和地区的二期项目。*技术响应偏离表

​	

​	项目于2020年7月起，于2023年5月底交付，总历时近10个月，到目前运行稳定。虽然提前交付项目且用户反馈良好，但过程中依旧存在一些不足。譬如在（初始阶段）因对已有的基础设备信息记录不完全，在系统功能需求的获取上少了一些对不同型监控设备的兼容，以至于在后期真实数据的导入时数据获取出现异常和脏数据显示。虽然最后在代码上进行了接口开发和调试解决了相关问题，但此次教训让我不禁思考应该采用（）来进行测试调整，以减少今后出现类似的问题。其次，团队险些犯了尽善尽美之错，而提高了一些不必要的需求和成本，容器化和过多的新技术引入，例如微服务和redis集群，的确

​	实践证明，这种（。。。。。），提高了团队开发效率。我作为项目的技术负责人，也在新技术的运用和选择上收获很多的宝贵经验。在后续的系统研发与升级完善中，我将不断思考和改进（。。。。）在项目中的应用，并充分发挥（），以期能在为公司减轻开发负担的同时，为客户提供更稳定的系统和为社会创造更多的价值。





​	

结构化方法：面向服务方法。

统一过程模型+敏捷开发（动态系统开发方法）

系统设计、需求工程、系统维护





移动端具备身份证件扫描识别等快速采集功能；

（2）人脸活体检测功能；

（3）手机端实现事件上报功能，自动产生上报位置并能对位置进行人工修正，能进行事件类型选择、详细描述，上传照片、相机、视频、语字音等功能，事件能同步上报北碚区综治网格双中心平台；

（4）提供事件调度功能，并实现事件发现、上报、调度、处置、办结等的闭环操作；

（5）通过系统采集到的城市管理数据，形成城市每日城市管理质量报告；

（6）提供对网格员的轨迹追踪、定位等功能的；

（7）提供歇马全境2米分辨率影像数据，歇马城区0.6米影像数据。提供歇马全境1:10000矢量数据，城区1:2000的矢量数据。并支持兴趣点（POI）、城区建筑物轮廓及村社区聚集区范围等地理要素；

（8）提供事件处置流程的自定义；

（9）管理用户的基本信息和对应的角色权限信息，设置用户和角色对应的数据表或者目录的访问和采集权限；

（10）提供表单定义管理、表单存储表字段定义、表单布局设计、表单数据验证定义、表单字段编辑框行为定义等功能

https://blog.csdn.net/llooyyuu/article/details/100926628

https://wenku.baidu.com/view/e6fc8df130126edb6f1aff00bed5b9f3f80f72e9.html

https://wenku.baidu.com/view/7a1ade2350e79b89680203d8ce2f0066f4336477.html



开发工具的选取，目前使用springMVC方式人数仍旧众多，但对于近几年新的平台整合springboot等技术，我公司也有一批人经过技术更新并完成过渡。最后我们选择的是对这些新框架进行了二次封装的平台jeecgboot作为开发平台，该平台不仅更好的集成了springboot2 和vue技术前后段分离，将mybatis和redis以及shiro、Druid等等进行了集成。在有j2ee基础的情况下能够很快的学习并运用该框架。



最后各大智慧商圈、轨道交通系统、网络系统的集成，整合原本存在的三大数据库平台：综合市情系统、城乡规划综合数据库、交通决策支持系统为重点的三个大数据平台建设



redis可支持大规模组网、海量图像数据存储



一名全栈开发工程师和一名系统架构师。2.5+3.5=6万，8.5万

选取了15名1-4年的程序员进行了，其中前端4人负责，4人做测试接口，1人进行项目监督，1人负责数据库的架设，其余的做后端接口的开发。



需求分析：

​	在通过基于用例的方法，结合现场观摩、参加业务时间、联合需求分析和阅读历史文档等需求获取方法，我们取得了近乎完整的用户需求和系统需求，除了基本的功能和非功能需求还包括一些期望需求。在此前提下进行的需求分析方法，我在结构分析方法（SA）和面向对象分析方法（OOA）方法中采用了后者。OOA方法结合了UML2.0的多种图进行展示。其中所面临的风险是无法让非专业的用户直观的理解和接受，但优点是将系统从需求到设计阶段过渡变得容易。最后我们对图形做了一些调节并加以文字说明，使得用户理解我们的需求描述。同时海使用Vue的模板开发了系统界面的原型，就流程操作和页面元素与用户进行探讨而更符合用户需求。

​	在系统分析过程中，我们通过用例确定系统范围，随着分析的深入，用例得到分解和细化。在此过程中产生了用例图（主要功能用序列图表示）、状态图、顺序图、活动图和类图及包图等UML的图形，同时还有对于用例图的详细说明，即用例的规约。接下来的问题是如何准确反映我们所获取的用户需求，既要准确反映，又要用户能看明白，特别是能引导用户进行思考，从而发现描述不准确甚至是遗漏的需求。

​	我们对传统的需求规格说明书的格式进行了一定的调整，加入了相关的基于用例分析的图形元素。整个需求规格说明包括项目综述、系统需求说明、系统设计约束、符及说明等四大部分。项目综述描述背景、目标之类项目相关的基本情况，并特别的加入关于规格说明书中所用道德图形工具的简要介绍以及图形符号说明该。系统设计约束部分主要内容是界面设计要求、性能要求以及安全等方面的要求，此部分用户最关注的是系统界面的说明。由于我们开发了系统界面原型，所以在这里我们以界面风格和原则的描述为主，同时加入一些关键部分的界面截图，例如详城市干道三维浏览、干流车辆通过统计、违规具体案例信息展示、设备管理检索展示等界面。在福建及说明中，我们列出了最后与用户确认的系统界面原型版本号，以及本系统中涉及的相关法律条文及文件的列表，还有一些重要的输出，如对外界加工装配协议通知数、加工贸易生产合同【审批证等报表。

​	



​	由于该项目涉及多个政府相关部门和领域，业务场景复杂，在需求的获取上还存在一定难度的，整个需求获取阶段经历了反复的迭代，需求获取过程基本涵盖了各种主要的需求获取技术、本文主要通过对需求初期阶段、中期阶段、后期阶段分别采用不通需求获取技术相结合进行详细论述。

​	在需求前期阶段，因为涉及的部门较多，且每个部门使用该系统的用户数量并不庞大，因此我们多数采用的是用户访谈的方法而不使用问卷调查的方式进行需求获取。整个需求调研团队，分为多组，每组两人负责一个部门的核心使用人员进行用户父那个谈进行需求收集，由于该政府的积极配合，双发人员沟通良好。多个部门基本都有一个管理层人员协同配合。由于该类人员对原有工作流程的熟悉和对新型系统的期待和重视，通过访谈让我们基本了解到原本的信息系统监控的局限性和使用人员的被动性。甚至有的部门没有任何智能系统辅助，对环境的测量或是对人员的流动管控都是靠人力去检验，靠纯体力的方式获取统计数据。也有部门没有相关的信息技术人员，在对系统的功能缺乏了解和想象，无法得出相应的要求或是要求以目前的技术难以实现。最后在我公司人员的引导下，总结出许多用户需求，譬如交通管理系统能通过地名查询相关街道的名字显示车流量和过往车量，可以直接查看出现的乱停等违规现象的具体数据及车牌，在环境治理方面可以直接查看检测设备的分布和运行情况、可以分类查询不同指标、查询超标的数据点和时间等。

​	在需求的中期阶段，由于有的部门业务涉及很多专业的流程和操作，我们采取了现场观摩的方式进行需求获取。在调研期间，对于很多业务流程没有直观的认识和了解，很难清楚地了解各种不同的违规现象和异常情况分类。通过固定部署的智能摄像机和多样化移动前端，自动捕捉城市管理问题，完成环境调查、环境污染监测，并对各种资料、数据进行综合分析研究，通过计算，以评价图的形式，近似地描述城市现状环境质量的总体状况，综合评价图要求在符合精度要求的地形图上，采用微分面积法，将歇马辖区划分成许多等面积的小网格。用数字、符号或不同颜色表示每个网格的环境质量值，以反映城市环境质量的优劣和空间分布状况，形成城市每日城市管理质量报告。

​	该模块需与北碚区公安违停监控系统对接，将违停事件纳入交警统一处置。并将违停统计分析数据推送到双中心平台，进行大数据可视化展示。

​	提供对网格员的轨迹追踪、定位及轨迹回放等功能的，并支持人员轨迹回放中上报事件的展示与回查。根据系统收集到的各种数据结合城市管理质量报告对工作人员进行考核。

​	系统可以对违章数据按时间、地点等方式进行查询统计；同时可以违章数据进行审核、修改、自动上传、人工标记等处理功能，实现交通违章事件的处理。

地理空间数据按照地理空间框架数据标准，采用高分辨率遥感影像和矢量数据，坐标系统采用WGS84坐标。同时以国家空间地理基础信息为基准，整合基础地理空间数据，公共地理框架数据，各智慧应用专题数据，编制地图要素目录和服务目录，形成完整、统一的主要街道地理空间信息库。整个地理空间数据包括遥感影像数据、矢量地图数据、建筑物轮廓数据、网格数据四个层面进行建设。

​	最后在需求后期阶段，在收集到大量基础数据的情况，用户希望对自己使用的子系统能够图表化或是三维展示，以对大量数据有直观的了解和判断，最好还能自动生成规范的报表。以往有的部门是以Excel表的格式进行汇总与数据统计展示，在数据的准确性、整体性都有所欠缺。且工作效率低下。我们采用jeecgboot集成的平台快速的开发出生成报表接口和多维图形化展示。最后，使用了查阅历史文档，对现有的基础监控设施设备进行了归纳汇总，再对业务里的关键性指标和用户进行探讨和确认，最后进行过滤和筛选出合理的部分归入到需求文档。在的展示的阶段也征求用户意见，对一些类似设备型号指标、工作运行状况不做图像展示和一些变化指标类似水样采集的PH值以及温度等进行处理后集中展示。这极大的方便后期该部分需求分析和减轻相关设计工作的难度。





常见开发模型：

​	当前主流的开发模型主要有瀑布模型，增量模型、演化模型，快速原型模型、螺旋模型、敏捷开发、快速应用开发和统一过程等。其中瀑布模型是许多模型的基础，也是完全遵从软件开发步骤，经过软件计划、需求分析、软件设计、程序编码、软件测试、运行维护，一个阶段结束进入下一个，很规范但过于理想化，不够灵活，容易导致需求偏差。演化模型是渐增型模型，由瀑布模型分批重复执行逐渐演化为最终产品。快速原型模型就是在原型模型基础上迭代，获得真实需求就抛弃原型；而增量模型是瀑布和原型的结合每次迭代但不抛弃原型。螺旋模型在快速原型和瀑布模型的基础上外加了风险分析，由制定计划、风险分析、实施工程和用户评估这个循环组成。统一过程是一个通用过程框架可以用于广泛的软件系统和不同领域组织类型和不同项目规格，基于构建，还使用了UML。UP有三个显著特点，即用例驱动、以架构为中心、迭代和增量。敏捷方法，是一种以人为核心、迭代循环的开发方式。

​	经过分析比较，从项目实际情况出发，因为要满足多种客户端类似web和app以及小程序等，基于构建的UP是最好的选择。我们主要分为四个阶段，分别是初始阶段、细化阶段、构建阶段和交付阶段，每个阶段进行一次需求评审。

​	在初始阶段，我们主要为了整个系统建立模型和确定项目边界。由于每个部门职责和操作流程不一致，因此每一个子系统都采用，明确了每一个项目的规格，









系统设计：

















​	以核心模块的交通管理功能模块为例，包括地图数据显示及操作、主干道路流量汇总、违规违停车辆图片获取、车牌自动识别、违规车辆识别地点定位、人工标记处理结果、查询统计违章处理、网络远程设备管控、设备状态信息查看、停车场车位诱导等。因对所需的地理处理技术，GIS技术



属性查询：根据图层搜索属性，查询方法可以分为点击查询，直线查询，圆形查询，矩形查询和多边形查询。（2）条件属性查询：根据层搜索属性，查询方法可以分为OID查询和条件查询。（3）增加元素：按层添加元素；（4）删除元素：按层删除元素；（5）测量功能：距离测量，面积 测量；（6）基本的地图操作：放大，缩小，移动，更新，重置。

帐户和密码管理：根据用户名查询和添加用户。系统日志管理：查询系统日志。







以社会治理功能模块为例，能够实现现有摄像头、移动终端、智能手机等多样前端采集设备的接入和人脸识别。包括建立常住人口人脸数据库、提供人脸识别对比、活体检测功能、权限管理、人口流动异常报警、事件记录查询

